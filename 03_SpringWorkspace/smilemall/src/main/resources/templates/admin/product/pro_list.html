<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
		layout:decorate="~{admin/layout/adminlayout}">

    <th:block layout:fragment = "content">
	<script src="/plugins/ckeditor/ckeditor.js"></script>
	  \<!-- Content Wrapper. Contains page content -->
	  <div class="content-wrapper">
	    <!-- Content Header (Page header) -->
	    <section th:replace="~{admin/product/pro_top_menu}"></section>
	
	    <!-- Main content -->
	    <section class="content container-fluid">
	
	      <div class="row">
	    		<div class="col-md-12">
	    			<div class="box box-primary">
						<div class="box-header with-border">
							<h3 class="box-title mt-5" style="font-weight:bold;">전체상품관리</h3>
						</div>
						
						  <div class="box-body">
							<!-- 검색옵션 -->
							<div>
								<form>
									<div style="display: inline-block">
									  <select class="form-control">
				                        <option>검색종류 선택</option>
				                        <option>상품명</option>
				                        <option>상품코드</option>
				                        <option>제조사</option>
				                        <option>상품명 or 제조사</option>
				                      </select>
				     				</div>
									<div style="display: inline-block">
										<input type="text" class="form-control" style="width:150px;">
									</div>
									<div style="display: inline-block">
										<button type="submit" class="btn btn-primary">검색</button>
									</div>	
									
								</form>
							</div>
							
							<hr>
							<!-- 상품 테이블 -->
							<table class="table table-bordered">
			                    <tbody>
				                    <tr>
				                      <th style="width: 3%; text-align: center;"><input type="checkbox"></th>
				                      <th style="width: 7%; text-align: center;">상품코드</th>
				                      <th style="width: 30%; text-align: center;">상품명</th>
				                      <th style="width: 15%; text-align: center;">가격</th>
				                      <th style="width: 15%; text-align: center;">등록일</th>
				                      <th style="width: 10%; text-align: center;">판매여부</th>
				                      <th style="width: 10%; text-align: center;">수정</th>
				                      <th style="width: 10%; text-align: center;">삭제</th>
				                    </tr>
				                    <tr th:each="product : ${pro_list}">
				                      <td style="text-align: center; vertical-align: middle;"><input type="checkbox" name="check" th:value="${product.pro_num}"></td>
				                      <td style="text-align: center; vertical-align: middle;">[[${product.pro_num}]]</td>
				                      <td vertical-align: middle;>
				                      	<a class="move" href="#">
				                      		<img th:src="${'/admin/product/image_display?dateFolderName=' + product.pro_up_folder + '&fileName=s_' + product.pro_img}" style="width: 50px; height:50px;">
				                      	</a>
				                      	&nbsp&nbsp
				                      	<a class="move pro_name" href="#" th:text="${product.pro_name}"></a>
				                      </td>
				                      <td style="text-align: center; vertical-align: middle;"><input type="text" name="pro_price" th:value="${product.pro_price}"></td>
				                      <td th:text="${#dates.format(product.pro_date, 'yyyy-MM-dd HH:mm:ss')}" style="text-align: center; vertical-align: middle;"></td>
				                      <td style="text-align: center; vertical-align: middle;">
				                      	<select name="pro_buy">
				                      		<option value="Y" th:selected="${product.pro_buy =='Y'}">판매가능</option>
				                      		<option value="N" th:selected="${product.pro_buy =='N'}">판매불가능</option>
				                      	</select>
				                      </td>
				                      <td style="text-align: center; vertical-align: middle;"><button type="button" class="btn btn-primary">수정</button></td>
				                      <td style="text-align: center; vertical-align: middle;"><button type="button" class="btn btn-danger">삭제</button></td>
				                    </tr>
			                 	</tbody>
			                 </table>								
						
						  </div>
                          <div class="box-footer clearfix">
							
							<div class="row">

								<div class="col-md-4">
							
									<button type="reset" class="btn btn-success">체크항목 일괄수정</button>
								
								<!--actionForm-->	
								<form id="actionForm" action="" method="get">
									<input type="hidden" name="pageNum" id="pageNum" th:value="${pageMaker.cri.pageNum}" />
									<input type="hidden" name="amount" id="amount" th:value="${pageMaker.cri.amount}" />

								</form>

								</div>
								<!--페이징-->
								<div class="col-md-4 text-center">
									
									  <nav aria-label="...">
										<ul class="pagination">
											<!-- 이전 표시여부 -->
											
											<th:block th:if="${pageMaker.prev }">
												<li class="page-item">
													<a th:href="${pageMaker.startPage - 1 }" class="page-link movepage">Previous</a>
												</li>
											</th:block>
		
											<th:block th:with="pageMaker = ${pageMaker}">
												<th:block th:each="num : *{#numbers.sequence(pageMaker.startPage, pageMaker.endPage)}">
												<li class='page-item' th:classappend="${pageMaker.cri.pageNum ==  num ? 'active': '' }" aria-current="page">
													<a class="page-link movepage" th:href="${num }" th:text="${num }"></a>
												</li>
												</th:block>
											</th:block>
		
											<!--  다음 표시여부 -->
											<th:block th:if="${pageMaker.next }">
											  <li class="page-item">
												<a th:href="${pageMaker.endPage + 1 }" class="page-link movepage">Next</a>
											  </li>
											</th:block>
											
										</ul>
										</nav>
								</div>
								<div class="col-md-4 text-right">
									<button type="submit" class="btn btn-primary">상품등록</button>
								</div>
							</div>
        
                         </div>
						
					</div>
	    		</div>
	    	</div>
	
	    </section>
	    <!-- /.content -->
	  </div>
	  <!-- /.content-wrapper -->
    </th:block>


    <th:block layout:fragment = "script">
      <script>
		$(document).ready(function(){

		let actionForm = $("#actionForm")
		$(".movepage").on("click", function(e) {
			e.preventDefault();

			actionForm.attr("action", "/admin/product/pro_list");
			actionForm.find("input[name='pageNum']").val($(this).attr("href"));
			actionForm.submit();
		});
			


		});  //ready end
      
      
      </script>
    </th:block>


</html>
